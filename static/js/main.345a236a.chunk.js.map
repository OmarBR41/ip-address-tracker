{"version":3,"sources":["images/icon-arrow.svg","components/IP.js","images/icon-location.svg","components/Map.js","components/App.js","index.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","fill","stroke","strokeWidth","d","SvgIconArrow","_ref","svgRef","title","titleId","props","xmlns","width","height","ref","id","ForwardRef","IP_DATA","ip","location","timezone","isp","API_KEY","process","Input","inputRef","clickHandler","className","name","placeholder","type","onClick","InfoDetails","data","useState","isOpen","setIsOpen","IP","setCoords","IPData","setIPData","useRef","fetchIPInfo","current","a","domain","fetch","res","json","code","console","log","messages","ip_data","city","country","coords","lat","lng","search","input","value","test","useEffect","markerIcon","L","Icon","iconUrl","iconLocation","iconRetinaUrl","iconAnchor","popupAnchor","shadowUrl","shadowSize","shadowAnchor","iconSize","Point","applyOffset","Map","map","setMap","marker","setMarker","updateMarker","removeLayer","newMarker","icon","addTo","setView","displayMap","useMemo","MapContainer","center","zoom","zoomControl","whenCreated","TileLayer","attribution","url","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.345a236a.chunk.js","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: 3,\n  d: \"M2 1l6 6-6 6\"\n});\n\nfunction SvgIconArrow(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 11,\n    height: 14,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconArrow);\nexport default __webpack_public_path__ + \"static/media/icon-arrow.f79ea0f5.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useEffect, useRef, useState } from \"react\";\r\n\r\nimport \"./IP.css\";\r\nimport { ReactComponent as IconArrow } from \"../images/icon-arrow.svg\";\r\n\r\nconst IP_DATA = {\r\n  ip: \"...\",\r\n  location: \"...\",\r\n  timezone: \"...\",\r\n  isp: \"...\",\r\n};\r\nconst API_KEY = process.env.REACT_APP_IP_API_KEY;\r\n\r\nfunction isValidIPV4Addr(ip) {\r\n  return /^(?=\\d+\\.\\d+\\.\\d+\\.\\d+$)(?:(?:25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\\.?){4}$/.test(\r\n    ip\r\n  );\r\n}\r\n\r\nfunction isValidDomain(domain) {\r\n  return /^[a-zA-Z0-9][a-zA-Z0-9-]{1,61}[a-zA-Z0-9](?:\\.[a-zA-Z]{2,})+$/.test(\r\n    domain\r\n  );\r\n}\r\n\r\nconst Input = ({ inputRef, clickHandler }) => (\r\n  <div className=\"IP__Input-Container\">\r\n    <div className=\"IP__Input-Wrapper\">\r\n      <input\r\n        ref={inputRef}\r\n        name=\"ip\"\r\n        className=\"IP__Input\"\r\n        placeholder=\"Search by IP or domain\"\r\n        type=\"text\"\r\n      />\r\n    </div>\r\n    <div className=\"IP__Button\" onClick={() => clickHandler()}>\r\n      <IconArrow />\r\n    </div>\r\n  </div>\r\n);\r\n\r\nconst InfoDetails = ({ data }) => {\r\n  const [isOpen, setIsOpen] = useState(true);\r\n  const { ip, location, timezone, isp } = data;\r\n\r\n  return (\r\n    <div className={`IP-Info ${isOpen ? \"IP-Info--Open\" : \"\"}`}>\r\n      <div className=\"IP-Info__Field\">\r\n        <p className=\"IP-Field__Label\">IP Address</p>\r\n        <p className=\"IP-Field__Value\">{ip}</p>\r\n      </div>\r\n      <div className=\"IP-Info__Field\">\r\n        <p className=\"IP-Field__Label\">Location</p>\r\n        <p className=\"IP-Field__Value\">{location}</p>\r\n      </div>\r\n      <div className=\"IP-Info__Field\">\r\n        <p className=\"IP-Field__Label\">Timezone</p>\r\n        <p className=\"IP-Field__Value\">{timezone}</p>\r\n      </div>\r\n      <div className=\"IP-Info__Field\">\r\n        <p className=\"IP-Field__Label\">ISP</p>\r\n        <p className=\"IP-Field__Value\">{isp}</p>\r\n      </div>\r\n      <div\r\n        className=\"IP-Info__Toggle\"\r\n        onClick={() => setIsOpen((isOpen) => !isOpen)}\r\n      >\r\n        <IconArrow />\r\n        <span>\r\n          <IconArrow />\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default function IP({ setCoords }) {\r\n  const [IPData, setIPData] = useState(IP_DATA);\r\n  const inputRef = useRef(null);\r\n\r\n  const fetchIPInfo = useRef(() => {});\r\n\r\n  fetchIPInfo.current = async (ip = null, domain = null) => {\r\n    const res = await fetch(\r\n      `https://geo.ipify.org/api/v1?apiKey=${API_KEY}${\r\n        ip !== null ? `&ipAddress=${ip}` : \"\"\r\n      }${domain !== null ? `&domain=${domain}` : \"\"}`\r\n    );\r\n    const data = await res.json();\r\n\r\n    // TODO: Improve error handling\r\n    if (data.code === 400) {\r\n      console.log(data.messages);\r\n      return;\r\n    }\r\n\r\n    const ip_data = {\r\n      ip: data.ip,\r\n      location: `${data.location.city}, ${data.location.country}`,\r\n      timezone: `UTC ${data.location.timezone}`,\r\n      isp: data.isp,\r\n    };\r\n\r\n    const coords = [data.location.lat, data.location.lng];\r\n\r\n    setIPData(ip_data);\r\n    setCoords(coords);\r\n  };\r\n\r\n  const search = async () => {\r\n    const input = inputRef.current.value;\r\n\r\n    if (isValidIPV4Addr(input)) fetchIPInfo.current(input, null);\r\n\r\n    if (isValidDomain(input)) fetchIPInfo.current(null, input);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchIPInfo.current();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"IP\">\r\n      <h1 className=\"IP__Title\">IP Address Tracker</h1>\r\n      <Input inputRef={inputRef} clickHandler={search} />\r\n      <InfoDetails data={IPData} />\r\n    </div>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/icon-location.7e6459d2.svg\";","import React, { useEffect, useMemo, useRef, useState } from \"react\";\r\n\r\nimport L from \"leaflet\";\r\nimport { MapContainer, TileLayer } from \"react-leaflet\";\r\n\r\nimport \"./Map.css\";\r\nimport iconLocation from \"../images/icon-location.svg\";\r\n\r\nconst OFFSET = 0.0002;\r\nconst ZOOM = 20;\r\n\r\nconst markerIcon = new L.Icon({\r\n  iconUrl: iconLocation,\r\n  iconRetinaUrl: iconLocation,\r\n  iconAnchor: null,\r\n  popupAnchor: null,\r\n  shadowUrl: null,\r\n  shadowSize: null,\r\n  shadowAnchor: null,\r\n  iconSize: new L.Point(46, 56),\r\n});\r\n\r\nconst applyOffset = (coords) => {\r\n  return [coords[0] + OFFSET, coords[1]];\r\n};\r\n\r\nexport default function Map({ coords }) {\r\n  const [map, setMap] = useState(null);\r\n  const [marker, setMarker] = useState(null);\r\n\r\n  const updateMarker = useRef(() => {});\r\n\r\n  updateMarker.current = (coords) => {\r\n    if (marker !== null) {\r\n      map.removeLayer(marker);\r\n    }\r\n    let newMarker = L.marker(coords, { icon: markerIcon }).addTo(map);\r\n    setMarker(newMarker);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (map === null || coords === null) return;\r\n\r\n    map.setView(applyOffset(coords), ZOOM);\r\n    updateMarker.current(coords);\r\n  }, [map, coords]);\r\n\r\n  const displayMap = useMemo(\r\n    () => (\r\n      <MapContainer\r\n        className=\"Map\"\r\n        center={applyOffset(coords)}\r\n        zoom={ZOOM}\r\n        zoomControl={false}\r\n        whenCreated={setMap}\r\n      >\r\n        <TileLayer\r\n          attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n        />\r\n      </MapContainer>\r\n    ),\r\n    [coords]\r\n  );\r\n\r\n  return <div>{displayMap}</div>;\r\n}\r\n","import React, { useState } from \"react\";\nimport \"./App.css\";\n\nimport IP from \"./IP\";\nimport Map from \"./Map\";\n\nfunction App() {\n  const [coords, setCoords] = useState(null);\n\n  return (\n    <div className=\"App\">\n      <div className=\"App__Background\" />\n      <IP setCoords={setCoords} />\n      {coords && <Map coords={coords} />}\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}